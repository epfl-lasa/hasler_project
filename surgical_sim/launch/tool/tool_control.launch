<launch>
	<arg name="id" default="right"/>
	<arg name="control_input" default="platform"/>
	<arg name="virtual_tool" default="false"/>
	<arg name="freq" default="10000.0"/>
	<arg name="two_platforms" default="false"/>
	<arg name="magnitudeVibration" default="50.0"/>
	<arg name="decayRateVibration" default="60.0"/>
	<arg name="frequencyVibration" default="32.6"/>
	<arg name="sharedGrasp" default="false"/>
	<arg name="rosControl" default="true"/>
	
	
	
	
	<group unless="$(arg two_platforms)">
		<node name="tool_joint_state_publisher" pkg="surgical_sim" type="surgicalToolSim" output="screen">
			<param name="sharedGraspOn"     value="$(arg sharedGrasp)"/>   
			<param name="rosControl"        value="$(arg rosControl)"/>   
			<param name="toolID"            value="$(arg id)"/>
			<param name="controlInput"      value="$(arg control_input)"/>
			<param name="publish_frequency" type="double" value="$(arg freq)"/>
			<remap from="robot_description" to="/$(arg id)_tool/robot_description"/>
			<remap from="tool_tip_pose"     to="tool_joint_state_publisher/tool_tip_pose"/>
		</node>	
	</group>
	
	<group if="$(arg two_platforms)">
		<node name="right_tool_joint_state_publisher" pkg="surgical_sim" type="surgicalToolSim" output="screen">
			<param name="sharedGraspOn"     value="$(arg sharedGrasp)"/>   
			<param name="rosControl"        value="$(arg rosControl)"/>   
			<param name="toolID"            value="right"/>
			<param name="controlInput"      value="$(arg control_input)"/>
			<param name="publish_frequency" type="double" value="$(arg freq)"/>
			<remap from="robot_description" to="/right_tool/robot_description"/>
			<remap from="tool_tip_pose"     to="tool_joint_state_publisher/tool_tip_pose"/>
		</node>	

		<node name="left_tool_joint_state_publisher" pkg="surgical_sim" type="surgicalToolSim" output="screen">
			<param name="sharedGraspOn"     value="$(arg sharedGrasp)"/>   
			<param name="rosControl"        value="$(arg rosControl)"/>   
			<param name="toolID"            value="left"/>
			<param name="controlInput"      value="$(arg control_input)"/>
			<param name="publish_frequency" type="double" value="$(arg freq)"/>
			<remap from="robot_description" to="/left_tool/robot_description"/>
			<remap from="tool_tip_pose"     to="tool_joint_state_publisher/tool_tip_pose"/>
		</node>	
	</group>
	<!-- 
		<node name="shared_control_grasp" pkg="surgical_sim" type="sharedGrasp" output="screen">
			<param name="magnitudeVibration" value="$(arg magnitudeVibration)"/>
			<param name="decayRateVibration" value="$(arg decayRateVibration)"/>
			<param name="frequencyVibration" value="$(arg frequencyVibration)"/>
			<param name="toolID" value="$(arg id)"/>
			<param name="sharedGraspOn" value="$(arg sharedGrasp)"/>
			<param name="hapticGraspOn" value="false"/>
			<param name="publish_frequency" type="double" value="500.0" />
		</node>  
	-->

</launch>