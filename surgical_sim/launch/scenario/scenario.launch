
<launch>
 <arg name="id1" default="right"/>

 <arg name="two_platforms" default="false"/>
 <arg name="virtual_tool" default="false"/>
 <arg name="virtual_leg" default="false"/>
 <arg name="control_input" default="platform"/>
 <arg name="rvizConfig" default="$(find surgical_sim)/rviz/scenario_with_platforms.rviz" if="$(arg two_platforms)"/>
 <arg name="rvizConfig" default="$(find surgical_sim)/rviz/scenario_with_platform.rviz" unless="$(arg two_platforms)"/>
 <!-- <arg name="subjectID" default="none"/> -->
 <arg name="leftToolForceps" default="true"/>
 <arg name="magnitudeVibration" default="2.5"/>
 <arg name="decayRateVibration" default="2.0"/> 
 <arg name="frequencyVibration" default="70.0"/>
 <arg name="sharedGrasp" default="false"/>
 <arg name="gazeboGUI" default="false"/>
 <arg name="w_name" default="$(find surgical_sim)/worlds/surgical_sim.world"/>



  <node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rvizConfig)" />
  
    <!-- <include file="$(find surgical_sim)/launch/robot.gazebo.launch">
      <arg name="gazeboBringUp" default="true"/>
      <arg name="gui" default="$(arg gazeboGUI)"/>
      <arg name="w_name" value="$(arg w_name)"/>
    </include>  -->

 <include file="$(find surgical_sim)/launch/body/body.launch">
  <arg name="w_liver" value="true" />
  <arg name="rviz" value="false"/>
  <arg name="gazebo_gui" value="false"/>
  <arg name="spawn_delay" value="0"/>
  <arg name="bodyOrigin.x" value="0.0"/>
  <arg name="bodyOrigin.y" value="0.5"/>
  <arg name="bodyOrigin.z" value="1.1"/>
  <arg name="bodyOrigin.ax" value="0.0"/>
  <arg name="bodyOrigin.ay" value="0.0"/>
  <arg name="bodyOrigin.az" value="$(eval pi/2 + pi )"/> 
 </include> 

<group unless="$(arg two_platforms)">
  <include file="$(find surgical_sim)/launch/tool/tool.launch">
    <arg name="id" value="$(arg id1)"/>
    <arg name="w_forceps" value="true" />
    <arg name="rosControl" value="true"/>
    <arg name="rviz" value="false"/>
    <arg name="virtual_tool" value="$(arg virtual_tool)"/>
    <arg name="control_input" value="$(arg control_input)"/>
    <arg name="sharedGrasp" value="$(arg sharedGrasp)"/>  
    <arg name="magnitudeVibration" value="$(arg magnitudeVibration)"/>
    <arg name="decayRateVibration" value="$(arg decayRateVibration)"/>
    <arg name="frequencyVibration" value="$(arg frequencyVibration)"/> 
    <arg name="originTrocar_x" value="0.065"/>
    <arg name="originTrocar_y" value="0.515"/>
    <arg name="originTrocar_z" value="1.4"/>
    <arg name="spawn_delay" value="0"/>
  </include> 

    <include file="$(find surgical_sim)/launch/franka/franka.launch">
        <arg name="id" value="$(arg id1)"/>
        <arg name="gazebo_bringup" value="false"/>
        <arg name="rviz_bringup" value="false"/>
        <arg name="rviz_config" value="$(arg rvizConfig)"/> 
        <arg name="robotOrigin.x" default="0.10"/>
        <arg name="robotOrigin.y" default="0.9"/>
        <arg name="robotOrigin.z" default="1.55"/>
        <arg name="robotOrigin.ax" default="$(eval radians(-45.0))"/>
        <arg name="robotOrigin.ay" default="$(eval radians(30.0))"/>
        <arg name="robotOrigin.az" default="$(eval radians(-90.0))"/>
     </include> 
  
</group>
 
 <group if="$(arg two_platforms)">

     <include file="$(find surgical_sim)/launch/tool/tool.launch">
      <arg name="id" value="left"/>
      <arg name="w_forceps" value="$(arg leftToolForceps)"/>
      <arg name="rosControl" value="true"/>
      <arg name="rviz" value="false"/>
      <arg name="virtual_tool" value="$(arg virtual_tool)"/>
      <arg name="control_input" value="$(arg control_input)"/>
      <arg name="sharedGrasp" value="$(arg sharedGrasp)"/>  
      <arg name="magnitudeVibration" value="$(arg magnitudeVibration)"/>
      <arg name="decayRateVibration" value="$(arg decayRateVibration)"/>
      <arg name="frequencyVibration" value="$(arg frequencyVibration)"/> 
      <arg name="originTrocar_x" value="-0.10"/>
      <arg name="originTrocar_y" value="0.520"/>
      <arg name="originTrocar_z" value="1.4"/>
      <arg name="spawn_delay" value="0"/>
    </include> 

    <include file="$(find surgical_sim)/launch/tool/tool.launch">
      <arg name="id" value="right"/>
      <arg name="w_forceps" value="true" />
      <arg name="rosControl" value="true"/>
      <arg name="rviz" value="false"/>
      <arg name="virtual_tool" value="$(arg virtual_tool)"/>
      <arg name="control_input" value="$(arg control_input)"/>
      <arg name="sharedGrasp" value="$(arg sharedGrasp)"/>  
      <arg name="magnitudeVibration" value="$(arg magnitudeVibration)"/>
      <arg name="decayRateVibration" value="$(arg decayRateVibration)"/>
      <arg name="frequencyVibration" value="$(arg frequencyVibration)"/> 
      <arg name="originTrocar_x" value="0.05"/>
      <arg name="originTrocar_y" value="0.520"/>
      <arg name="originTrocar_z" value="1.4"/>
      <arg name="spawn_delay" value="0"/>
    </include> 

    <include file="$(find surgical_sim)/launch/franka/franka.launch">
        <arg name="id" value="left"/>
        <arg name="gazebo_bringup" value="false"/>
        <arg name="rviz_bringup" value="false"/>
        <arg name="rviz_config" value="$(arg rvizConfig)"/> 
        <arg name="robotOrigin.x" default="-0.20"/>
        <arg name="robotOrigin.y" default="1.1"/>
        <arg name="robotOrigin.z" default="1.50"/>
        <arg name="robotOrigin.ax" default="$(eval radians(0.0))"/>
        <arg name="robotOrigin.ay" default="$(eval radians(0.0))"/>
        <arg name="robotOrigin.az" default="$(eval radians(-100.0))"/>
     </include> 

     <include file="$(find surgical_sim)/launch/franka/franka.launch">
        <arg name="id" value="right"/>
        <arg name="gazebo_bringup" value="false"/>
        <arg name="rviz_bringup" value="false"/>
        <arg name="rviz_config" value="$(arg rvizConfig)"/> 
        <arg name="robotOrigin.x" default="0.20"/>
        <arg name="robotOrigin.y" default="1.1"/>
        <arg name="robotOrigin.z" default="1.50"/>
        <arg name="robotOrigin.ax" default="$(eval radians(0.0))"/>
        <arg name="robotOrigin.ay" default="$(eval radians(0.0))"/>
        <arg name="robotOrigin.az" default="$(eval radians(-100.0))"/>
     </include> 

 </group>

  <!-- <include file="$(find surgical_sim)/launch/franka/franka_control.launch">
    <arg name="id" value="$(arg id1)"/>
    <arg name="two_robots" value="$(arg two_platforms)"/>
  </include> -->
  
</launch>


