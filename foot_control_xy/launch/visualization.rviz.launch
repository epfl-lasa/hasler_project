<launch>
	
	<arg name="chaser_init_pose" default="-x 0.0 -y 0.0 -z 0.1 -qx 0.0 -qy 0.0 -qy 0.0 -qz 1.0"/>
	<arg name="target_init_pose" default="-x 1.0 -y 2.0 -z 0.1 -qx 0.0 -qy 0.0 -qy 0.0 -qz 1.0"/>
	<node name="worldChaserTransform" pkg="foot_control_xy" type="worldActorTransform" args="chaser $(arg chaser_init_pose)"/>
	<node name="worldTargetransform" pkg="foot_control_xy" type="worldActorTransform" args="target $(arg target_init_pose)"/>
	<arg name="scale.t" default="0.3"/>
	<arg name="scale.c" default="0.5"/>
	<arg name="enableGazebo" default="true"/>
	<arg name="enableJoystick" default="false"/>
	<arg name="enableProtocol" default="false"/>

	<group ns="chaser">
		<arg name="model" default="$(find foot_control_xy)/models/h_lower_limb/urdf/h_lower_limb.urdf.xacro"/> 
		<param name="robot_description" command="$(find xacro)/xacro $(arg model) --xacro-ns --inorder  " />

	</group>
	
	<group ns="target">
		<arg name="model" default="$(find foot_control_xy)/models/number1/urdf/number1.urdf.xacro "/>
		<param name="robot_description" command="$(find xacro)/xacro $(arg model) scale:=0.5 --xacro-ns --inorder  " />

	</group>
	<param name="use_gui" value="1"/>	
	
	<node name="rviz" pkg="rviz" type="rviz" args="-d $(find foot_control_xy)/rviz/urdf.rviz" required="true"/>
	
	<group if="$(arg enableJoystick)">
		<include file="$(find foot_control_xy)/launch/includes/joystick.launch.xml"/>
	</group>

	<group if="$(arg enableProtocol)">
		<include file="$(find foot_control_xy)/launch/includes/protocol.launch.xml"/>
	</group>
	
	<group if="$(arg enableGazebo)">
		<include file="$(find foot_control_xy)/launch/gazebo.launch">
			<arg name="standalone" value="false"/>
			<arg name="scale.t" value="$(arg scale.t)"/>
			<arg name="scale.c" value="$(arg scale.c)"/>
			<arg name="enableJoystick" value="$(arg enableJoystick)"/>
			<arg name="enableProtocol" value="$(arg enableProtocol)"/>
		</include>
	</group>
</launch>
